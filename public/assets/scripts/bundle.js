(()=>{"use strict";(()=>{var n=document.querySelector("#mytable-body"),e=document.querySelector("#loading-icon"),t="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",a=document.querySelector("tr#latest-block"),c=document.querySelector("#status-chain-id"),r=document.querySelector("#status-uptime"),o=document.querySelector("#mystyle");function s(n,e){return'\n<tr class="\n    '.concat(n.orphan?"orphan":"canon"," \n    ").concat(n.sha3Uncles!==t?"uncler":""," \n    ").concat(e?"dupeEnd":"","\n    ").concat(n.is_latest?"latest":"",'\n    ">\n    \n    \x3c!--    ○ ◌--\x3e\n    <td class="td-uncle-orphan-ui">\n        ').concat(n.orphan?'<span class="orphan-ui">●</span>':"").concat(n.sha3Uncles!==t?'<span class="uncler-ui">◌</span>':"",' \n     </td>\n    <td class="td-header-number"><span>').concat(n.number,'</span></td>\n    <td class="td-header-timestamp">').concat(n.timestamp,'</td>\n    <td class="truncate-hash td-header-miner">').concat(n.miner,'</td>\n    <td class="truncate-hash td-header-hash"><span>').concat(n.hash,'</span></td>\n    <td class="truncate-hash td-header-uncleBy">').concat(n.uncleBy,"</td>\n    <td>").concat(n.gasUsed,"</td>\n</tr>")}function d(n){return'\n        <tr class="canon canon-uncontested-row">\n        <td></td>\n        <td class="td-header-number uncontested-canonical"><span>'.concat(n,"</span></td>\n        <td></td>\n        <td></td>\n        <td></td>\n        <td></td>\n        <td></td>\n        </tr>\n    ")}var i,l,u=0;fetch("/status").then((function(n){return n.json()})).catch((function(n){return console.log(n),console.debug(res),Promise.reject(n)})).then((function(n){n.latest_header.is_latest=!0;var e=s(n.latest_header,!1);if(u=n.latest_header.number,a.outerHTML)a.outerHTML=e;else{var t=document.createElement("div");t.innerHTML="\x3c!--THIS DATA SHOULD BE REPLACED--\x3e";var o=Obj.parentNode;o.replaceChild(t,a),o.innerHTML=o.innerHTML.replace("<div>\x3c!--THIS DATA SHOULD BE REPLACED--\x3e</div>",e)}c.innerHTML="".concat(n.chain_id),r.innerHTML="".concat(n.uptime,"s")})).then((function(){(function(){if(""===document.location.search&&window.history.replaceState){var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?limit=100&include_txes=false";window.history.replaceState({path:n},"",n)}return fetch("/api/headers"+document.location.search).then((function(n){return n.json()})).catch((function(n){return console.log(n),Promise.reject(n)}))})().then((function(t){e.style.display="none";for(var a=0;a<t.length;a++){var c=t[a],r=a===t.length-1||t[a+1].number!==c.number;if(0===a)for(var o=u-1;o>c.number;o--)n.insertAdjacentHTML("beforeend",d(o));var i=s(c,r);if(n.insertAdjacentHTML("beforeend",i),a!==t.length-1)for(var l=c.number-1;l>t[a+1].number;l--){var h=d(l);n.insertAdjacentHTML("beforeend",h)}}})).then((function(){document.addEventListener("click",(function(n){try{function e(n,t){return n.nodeName===t?n:e(n.parentNode,t)}var t=" dir-d ",a=" dir-u ",c=/ dir-(u|d) /,r=n.shiftKey||n.altKey,o=e(n.target,"TH"),s=e(o,"TR"),d=e(s,"TABLE");function i(n,e){n.className=n.className.replace(c,"")+e}function l(n){return r&&n.getAttribute("data-sort-alt")||n.getAttribute("data-sort")||n.innerText}if(/\bsortable\b/.test(d.className)){for(var u,h=s.cells,m=0;m<h.length;m++)h[m]===o?u=m:i(h[m],"");var f=t;-1!==o.className.indexOf(t)&&(f=a),i(o,f);var p=d.tBodies[0],b=[].slice.call(p.rows,0),v=f===a;b.sort((function(n,e){var t=l((v?n:e).cells[u]),a=l((v?e:n).cells[u]);return isNaN(t-a)?t.localeCompare(a):t-a}));for(var w=p.cloneNode();b.length;)w.appendChild(b.splice(0,1)[0]);d.replaceChild(w,p)}}catch(n){}}))})).catch((function(e){return n.innerHTML=e}))})).catch((function(n){})),i=function(n){n.checked?o.innerHTML="tr.canon.canon-uncontested-row { display: table-row; }":o.innerHTML="tr.canon.canon-uncontested-row { display: none; }"},(l=document.querySelector("#".concat("fill-canonical")))&&("true"===new URLSearchParams(document.location.search.substring(1)).get("fill_canonical_chain")&&(l.checked=!0),i(l),l.addEventListener("change",(function(n){var e=new URLSearchParams(document.location.search.substring(1));n.target.checked?e.set("fill_canonical",n.target.checked):e.delete("fill_canonical");var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+e.toString();window.history.replaceState({path:t},"",t),i(n.target)})))})()})();